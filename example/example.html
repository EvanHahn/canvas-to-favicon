<!DOCTYPE html>
<html>
<head>

	<meta charset="utf-8">
	<title>canvas to favicon demo</title>

</head>
<body>

	<canvas width="16" height="16"></canvas>

	<script src="../canvas-to-favicon.js"></script>
	<script>

	var canvas = document.querySelector('canvas');
	var context = canvas.getContext('2d');

	setInterval(function() {

		// woah what time is it honey
		var now = new Date;
		var hours = now.getHours() % 12;
		var minutes = now.getMinutes();
		var seconds = now.getSeconds();

		// woah what are the angles
		var hoursAngle = (hours - 3) * 2 * Math.PI / 12;
		var minutesAngle = (minutes - 15) * 2 * Math.PI / 60;
		var secondsAngle = (seconds - 15) * 2 * Math.PI / 60;

		// clear it all
		context.clearRect(0, 0, 16, 16);

		// clock outline
		context.beginPath();
		context.strokeStyle = '#000000';
		context.fillStyle = '#ffffff';
		context.lineWidth = 1.8;
		context.arc(8, 8, 7, 0, Math.PI * 2);
		context.fill();
		context.stroke();

		// second hand
		context.beginPath();
		context.strokeStyle = '#ff0000';
		context.lineWidth = .5;
		context.moveTo(8, 8);
		context.lineTo(Math.cos(secondsAngle) * 8 + 8, Math.sin(secondsAngle) * 8 + 8);
		context.stroke();

		// hour hand
		context.beginPath();
		context.strokeStyle = '#000000';
		context.lineWidth = 2;
		context.moveTo(8, 8);
		context.lineTo(Math.cos(hoursAngle) * 8 + 8, Math.sin(hoursAngle) * 8 + 8);
		context.stroke();

		// minute hand
		context.beginPath();
		context.lineWidth = .5;
		context.moveTo(8, 8);
		context.lineTo(Math.cos(minutesAngle) * 8 + 8, Math.sin(minutesAngle) * 8 + 8);
		context.stroke();

		// send it to the favicon!
		canvasToFavicon(canvas);

	}, 100);

	</script>

</body>
</html>